"use strict";(self["webpackChunkperiodtracker"]=self["webpackChunkperiodtracker"]||[]).push([[256],{8256:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Y});var l=a(3673),o=a(2323);const n=(0,l.Uk)(" S & D Period Tracker"),s={class:"q-pt-sm q-pl-md q-pr-md soft-border"},i=(0,l.Uk)(" S & D Period Tracker | github: @Sajjal ");function u(e,t,a,u,r,d){const m=(0,l.up)("q-icon"),c=(0,l.up)("q-item-label"),p=(0,l.up)("q-toolbar-title"),f=(0,l.up)("q-btn"),w=(0,l.up)("q-toolbar"),g=(0,l.up)("q-item-section"),b=(0,l.up)("q-item"),_=(0,l.up)("q-table"),y=(0,l.up)("q-card-section"),h=(0,l.up)("q-card-actions"),D=(0,l.up)("q-card"),v=(0,l.up)("q-dialog"),q=(0,l.up)("q-page-container"),W=(0,l.up)("q-layout"),k=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(W,{view:"lHh Lpr lFf"},{default:(0,l.w5)((()=>[(0,l.Wm)(q,{column:""},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{class:"bg-black text-white q-pt-sm q-pb-sm q-mb-sm"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{name:"pivot_table_chart",size:"2.5em",flat:"",class:"q-ml-none q-pl-xs"}),(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"text-white"},{default:(0,l.w5)((()=>[n])),_:1})])),_:1}),(0,l.Wm)(f,{round:"",color:"negative",icon:"logout",dense:"",class:"q-pr-sm",onClick:u.logoutUser},null,8,["onClick"])])),_:1}),(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[(0,l.Wm)(g,{class:"q-pl-xs"},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{class:"bg-grey-2 text-black soft-border today_date"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{left:"",size:"2em",name:"add_circle_outline",color:"primary",style:{cursor:"pointer"},onClick:t[0]||(t[0]=e=>u.add_new_data())}),(0,l.Wm)(g,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(u.today),1)])),_:1})])),_:1})])),_:1})])),_:1}),(0,l.Wm)(g,{class:"q-pl-xs q-pr-xs"},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{class:"bg-grey-2 text-black soft-border next_estimated"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{left:"",size:"2em",name:"redo",color:"accent"}),(0,l.Wm)(g,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(u.next_from)+"-"+(0,o.zw)(u.next_to),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,l._)("div",s,[(0,l.Wm)(_,{rows:u.rows,columns:u.columns,"visible-columns":u.visible_cols,style:{"max-height":"450px"},"row-key":"name",dark:"","virtual-scroll":"",pagination:u.pagination,"onUpdate:pagination":t[1]||(t[1]=e=>u.pagination=e),"rows-per-page-options":[0],"hide-pagination":!0,class:"data-table"},null,8,["rows","columns","visible-columns","pagination"])]),(0,l.Wm)(c,{class:"bg-grey-2 text-black soft-border q-ma-md q-mt-md q-pa-sm text-center"},{default:(0,l.w5)((()=>[i])),_:1}),(0,l.Wm)(v,{modelValue:u.open_dialog,"onUpdate:modelValue":t[3]||(t[3]=e=>u.open_dialog=e),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:(0,l.w5)((()=>[(0,l.Wm)(D,{class:"bg-grey-2 text-black",style:{width:"300px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(y,{class:"q-pa-md text-subtitle2"},{default:(0,l.w5)((()=>[(0,l.Uk)(" Add Period Record for "+(0,o.zw)(u.today)+"? ",1)])),_:1}),(0,l.Wm)(h,{align:"right",class:"bg-white text-teal"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(f,{flat:"",label:"No",class:"text-negative"},null,512),[[k]]),(0,l.Wm)(f,{flat:"",label:"Yes",onClick:t[2]||(t[2]=e=>u.add_new_data(!0))})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})}var r=a(1959),d=a(9582),m=a(1082),c=a(6444);const p=[{name:"date",label:"Date",align:"left",field:"pDate",headerStyle:"font-weight:bold"},{name:"timeStamp",label:"TimeStamp",align:"left",field:"timestamp",headerStyle:"font-weight:bold"},{name:"pCycle",label:"Period Cycle",align:"center",field:"pCycle",headerStyle:"font-weight:bold"},{name:"healthStatus",label:"Health Status",align:"center",field:"status",headerStyle:"font-weight:bold",style:e=>"Healthy"==e.status?"color:#6be016":"color:red"}],f=["date","pCycle","healthStatus"],w=(0,r.iH)([]),g=(0,r.iH)(!1),b=(0,r.iH)(),_=(0,r.iH)(),y=(0,r.iH)(),h={setup(){const e=(0,d.tv)(),{getData:t,addData:a,logout:l}=(0,c.Z)();async function o(){let e=await t();for(let t=0;t<e.length;t++)w.value.push({pDate:n(e[t].pDate).fullDate,pCycle:e[t].pCycle,status:e[t].status,timeStamp:e[t].pDate});let a=w.value[w.value.length-1].pCycle;b.value=w.value[w.value.length-1].timeStamp,s(a)}function n(e){return{fullDate:m.ZP.formatDate(e,"MMM DD YYYY"),month_day:m.ZP.formatDate(e,"MMM DD")}}function s(e){let t=m.ZP.addToDate(new Date(b.value),{days:parseInt(e)}),a=m.ZP.addToDate(new Date(b.value),{days:parseInt(e)+3});_.value=n(t.getTime()).month_day,y.value=n(a.getTime()).month_day}async function i(e=!1){if(!e)return g.value=!0;{g.value=!1;let e=n(Date.now()).fullDate;const t=t=>t.pDate==e;if(w.value.some(t))return;{let e=m.ZP.getDateDiff(new Date,new Date(w.value[w.value.length-1].timeStamp),"days"),t=parseInt(e)<28||parseInt(e)>35?"Weak":"Healthy",l={pDate:n(Date.now()).fullDate,pCycle:e,status:t,timeStamp:Date.now()},o={pDate:l.timeStamp,pCycle:e,status:t};await a(o),w.value.push(l),b.value=l.timeStamp,s(e)}}}async function u(){await l(),e.push({name:"Login"})}return o(),{pagination:(0,r.iH)({rowsPerPage:0,sortBy:"timeStamp"}),columns:p,visible_cols:f,rows:w,open_dialog:g,today:n(Date.now()).fullDate,next_from:_,next_to:y,add_new_data:i,logoutUser:u}}};var D=a(4899),v=a(2652),q=a(9570),W=a(4554),k=a(3747),x=a(2350),S=a(8240),Z=a(3414),C=a(2035),Q=a(8443),P=a(5926),T=a(151),H=a(5589),U=a(9367),I=a(677),z=a(7518),M=a.n(z);h.render=u;const Y=h;M()(h,"components",{QLayout:D.Z,QPageContainer:v.Z,QToolbar:q.Z,QIcon:W.Z,QToolbarTitle:k.Z,QItemLabel:x.Z,QBtn:S.Z,QItem:Z.Z,QItemSection:C.Z,QTable:Q.Z,QDialog:P.Z,QCard:T.Z,QCardSection:H.Z,QCardActions:U.Z}),M()(h,"directives",{ClosePopup:I.Z})}}]);